spin_manifest_version = 2

[application]
name = "multi-trigger"
version = "0.1.0"
authors = ["Rajat Jindal <rajatjindal83@gmail.com>"]
description = ""

[[trigger.http]]
route = "/..."
component = "http-trigger"

[component.http-trigger]
source = "main.wasm"
allowed_outbound_hosts = []
[component.http-trigger.build]
command = "cd http-trigger && tinygo build -target=wasi -gc=leaking -no-debug -o main.wasm main.go && cd -"
watch = ["**/*.go", "go.mod"]

# [application.trigger.redis]
# address = "redis://localhost:6379"

# [[trigger.redis]]
# channel = "testchannel"
# component = "redis-trigger"

# [component.redis-trigger]
# source = "redis-trigger/main.wasm"
# allowed_outbound_hosts = []
# [component.redis-trigger.build]
# command = "cd redis-trigger && tinygo build -target=wasi -gc=leaking -no-debug -o main.wasm main.go && cd -"